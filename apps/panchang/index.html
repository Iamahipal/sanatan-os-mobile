<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>पञ्चाङ्ग - Daily Guide</title>
    <meta name="description" content="Your daily Hindu calendar guide. Know the right time for the right action.">
    <meta name="theme-color" content="#FF9933">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="manifest.json">

    <!-- M3 Fonts: Inter, Noto Sans Devanagari, Material Symbols -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+Devanagari:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,1,0&display=block"
        rel="stylesheet">

    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <button id="location-chip" class="location-chip" aria-label="Change location">
                <span class="material-symbols-rounded">my_location</span>
                <span id="current-city">Pune</span>
            </button>
            <div style="display: flex; gap: 8px;">
                <button id="calendar-btn" class="icon-btn" aria-label="Open Calendar">
                    <span class="material-symbols-rounded">calendar_month</span>
                </button>
                <button id="share-btn" class="icon-btn" aria-label="Share today's Panchang">
                    <span class="material-symbols-rounded">share</span>
                </button>
                <button id="theme-toggle" class="icon-btn" aria-label="Toggle theme">
                    <span class="material-symbols-rounded">light_mode</span>
                </button>
                <button id="settings-btn" class="icon-btn" aria-label="Settings">
                    <span class="material-symbols-rounded">settings</span>
                </button>
            </div>
        </header>

        <!-- ...existing code... -->

        <!-- Calendar Modal -->
        <div class="modal-overlay" id="calendar-modal" role="dialog" aria-label="Calendar">
            <div class="modal-content calendar-modal-content">
                <div class="modal-header">
                    <h3 id="cal-month-year">February 2026</h3>
                    <div class="cal-nav">
                        <button id="cal-prev" class="icon-btn small"><span
                                class="material-symbols-rounded">chevron_left</span></button>
                        <button id="cal-next" class="icon-btn small"><span
                                class="material-symbols-rounded">chevron_right</span></button>
                    </div>
                    <button class="close-btn" id="close-calendar" aria-label="Close calendar">
                        <span class="material-symbols-rounded">close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="calendar-grid-header">
                        <span>Sun</span><span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span>
                    </div>
                    <div id="calendar-grid" class="calendar-grid">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Modal (single consolidated modal) -->
        <div class="modal-overlay" id="settings-modal" role="dialog" aria-label="Settings">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Settings</h3>
                    <button class="close-btn" id="close-settings" aria-label="Close settings">
                        <span class="material-symbols-rounded">close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <button class="location-auto-btn" id="detect-location" aria-label="Detect my location">
                        <span class="material-symbols-rounded">my_location</span>
                        Detect My Location
                    </button>

                    <div class="setting-item">
                        <label>Select a city:</label>
                        <div class="city-grid" id="city-grid">
                            <!-- Cities populated dynamically by JS -->
                        </div>
                    </div>

                    <div class="setting-item">
                        <label for="language-select">Language</label>
                        <select id="language-select" class="setting-input">
                            <option value="en">English</option>
                            <option value="hi">Hindi (हिंदी)</option>
                        </select>
                    </div>

                    <div class="setting-item advanced">
                        <label>Ayanamsa System</label>
                        <select id="ayanamsa-select" class="setting-input" aria-label="Ayanamsa system">
                            <option value="lahiri" selected>Lahiri (Chitrapaksha)</option>
                            <option value="krishnamurti">Krishnamurti (KP)</option>
                            <option value="raman">B.V. Raman</option>
                            <option value="yukteshwar">Sri Yukteshwar</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scripts -->
        <script src="lib/astronomy.js"></script>
        <script src="lib/vedic-engine.js"></script>
        <script src="lib/festival-calculator.js"></script>
        <script src="script.js"></script>
</body>

</html>