<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sadhan - Habit Tracker</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <div class="app-container">
        <!-- Login Screen -->
        <div id="login-screen" class="screen">
            <div class="login-content">
                <div class="login-logo">
                    <i data-lucide="flame"></i>
                </div>
                <h1 class="login-title">‡§∏‡§æ‡§ß‡§®</h1>
                <p class="login-subtitle">Build discipline, one day at a time</p>

                <div class="login-features">
                    <span><i data-lucide="trophy"></i> Track Habits</span>
                    <span><i data-lucide="trophy"></i> Earn XP</span>
                    <span><i data-lucide="trophy"></i> Level Up</span>
                </div>

                <button id="guest-btn" class="btn-google">
                    <i data-lucide="user"></i>
                    Continue as Guest
                </button>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div id="dashboard-screen" class="screen hidden">
            <!-- XP Bar (Sticky Top) -->
            <div class="xp-bar-container">
                <div class="xp-badge">
                    <i data-lucide="trophy"></i>
                    <span id="level-display">Lv.1 Noob</span>
                </div>
                <div class="xp-progress-container">
                    <div class="xp-labels">
                        <span id="current-xp">0 XP</span>
                        <span id="next-level-xp">100 XP</span>
                    </div>
                    <div class="xp-bar">
                        <div id="xp-fill" class="xp-bar-fill" style="width: 0%"></div>
                    </div>
                </div>
                <button id="sign-out-btn" class="btn-signout">
                    <div class="guest-avatar">G</div>
                    Exit
                </button>
            </div>

            <!-- Header -->
            <div class="dashboard-header">
                <a href="../../index.html" class="back-link">
                    <i data-lucide="chevron-left"></i>
                </a>
                <h1>‡§∏‡§æ‡§ß‡§®</h1>
                <div class="view-toggle">
                    <button id="btn-stats" class="toggle-btn">
                        <i data-lucide="bar-chart-2"></i>
                    </button>
                    <button id="btn-week" class="toggle-btn">
                        <i data-lucide="layout-grid"></i>
                    </button>
                    <button id="btn-dashboard" class="toggle-btn">
                        <i data-lucide="target"></i>
                    </button>
                    <button id="btn-grid" class="toggle-btn active">
                        <i data-lucide="calendar"></i>
                    </button>
                </div>
            </div>

            <!-- Milestone Banner (hidden by default, shown at 7/21/66/108 days) -->
            <div id="milestone-banner" class="milestone-banner hidden">
                <div class="milestone-badge">üèÜ</div>
                <div class="milestone-info">
                    <span class="milestone-title" id="milestone-title">7 Day Streak!</span>
                    <span class="milestone-text">You've built a new foundation</span>
                </div>
                <button id="milestone-close" class="milestone-close">
                    <i data-lucide="x"></i>
                </button>
            </div>

            <!-- Streak Banner -->
            <div class="streak-banner" id="streak-banner">
                <div class="streak-fire">üî•</div>
                <div class="streak-info">
                    <span class="streak-count" id="streak-count">0</span>
                    <span class="streak-label">Day Streak</span>
                </div>
                <div class="streak-best">
                    <span class="best-label">Best</span>
                    <span class="best-count" id="best-streak">0</span>
                </div>
            </div>

            <!-- Grid View -->
            <div id="grid-view" class="view">
                <div class="habit-grid" id="habit-grid">
                    <!-- Generated by JS -->
                </div>
            </div>

            <!-- Dashboard View -->
            <div id="dashboard-view" class="view hidden">
                <div class="progress-card">
                    <svg class="progress-ring" width="160" height="160">
                        <defs>
                            <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#4ADE80" />
                                <stop offset="100%" style="stop-color:#22C55E" />
                            </linearGradient>
                        </defs>
                        <circle class="progress-ring-bg" cx="80" cy="80" r="70" />
                        <circle id="progress-circle" class="progress-ring-fill" cx="80" cy="80" r="70" />
                    </svg>
                    <div class="progress-text">
                        <span id="progress-count">0/4</span>
                        <span id="progress-label">Complete</span>
                    </div>
                </div>

                <div class="habit-list" id="habit-list">
                    <!-- Generated by JS -->
                </div>
            </div>

            <!-- Stats View -->
            <div id="stats-view" class="view hidden">
                <!-- Weekly Progress -->
                <div class="stats-card">
                    <h3>This Week</h3>
                    <div class="weekly-progress">
                        <div class="weekly-bar-container">
                            <div class="weekly-bar-fill" id="weekly-bar-fill" style="width: 0%"></div>
                        </div>
                        <span class="weekly-percent" id="weekly-percent">0%</span>
                    </div>
                </div>

                <!-- 7-Day Activity Graph -->
                <div class="stats-card">
                    <h3>7-Day Activity</h3>
                    <div class="activity-graph" id="activity-graph">
                        <!-- Generated by JS - 7 bars -->
                    </div>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-value" id="stat-total-habits">0</span>
                        <span class="stat-label">Total Habits</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="stat-completed-today">0</span>
                        <span class="stat-label">Done Today</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="stat-total-completions">0</span>
                        <span class="stat-label">All Time</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="stat-perfect-days">0</span>
                        <span class="stat-label">Perfect Days</span>
                    </div>
                </div>
            </div>

            <!-- Week View (7 days with progress rings) -->
            <div id="week-view" class="view hidden">
                <div class="week-scroll" id="week-scroll">
                    <!-- Generated by JS - 7 day columns -->
                </div>
            </div>

            <!-- Add Habit FAB -->
            <button id="add-habit-btn" class="fab">
                <i data-lucide="plus"></i>
            </button>
        </div>

        <!-- Add Habit Modal -->
        <div id="add-habit-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Add New Habit</h2>
                <input type="text" id="habit-name-input" placeholder="Habit name..." maxlength="30">
                <div class="modal-actions">
                    <button id="cancel-habit-btn" class="btn-secondary">Cancel</button>
                    <button id="save-habit-btn" class="btn-primary">Add Habit</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>